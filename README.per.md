# LightKnightBBR/SpeedTest V1.1
تشکر ویژه از : 
https://github.com/Azumi67

با تشکر ویژه از OPIranClub به سبب انتشار ابزار ها و آموزش های کاربردی :
https://t.me/OPIran_official

یه کف مرتب

----------------------------------------------------------------
[English](/README.md)   |   [فارسی](/README.per.md)

<div align="right">
  <details>
    <summary><strong>تغییرات</strong></summary>
    
**V 1.1 :**
- بهینه سازی شده
- چک کردن سازگاری سیستم‌عامل و کرنل
- ایجاد تغییراتی برای توزیع های مدرن و متد جایگزین برای سیستم‌های قدیمی‌تر در پایتون
- بررسی و نصب بسته‌های مورد نیاز 
- فعال‌سازی ECN (Explicit Congestion Notification)  
- الگوریتم صف‌بندی (fq یا fq_codel) برای اینترفیس شبکه و qdisk در سیستم عامل و کارت شبکه هایی که پشتیبانی نمیکنند یا به دلایلی مثل قدیمی بودن کارت شبکه و... به طور کامل تنظیم نمیشوند با بررسی خودکار توسط اسکریپت تنظیم خواهد شد = **بهینه سازی بیشتر**
- همچنین پیام‌های بازخورد بهبود یافته‌اند تا کاربران بهتر از وضعیت اجرای مراحل مطلع شوند.

**V 1.2 :**
- الگوریتم Cake به عنوان الگوریتم پیشرفته Qos در کنار BBR به صورت ترکیبی اضافه شد.
**از Cake به عنوان الگورتیم Qos حرفه ای در ‌لایه صف‌بندی (Qdisc) استفاده خواهد شد و صف‌بندی ترافیک را به بهترین شکل ممکن مدیریت می‌کند و باعث می‌شود تا نوسانات جیتر و تأخیر به حداقل برسد م
و از  BBR در لایه کنترل تراکم به عنوان Tcp Congestion Control استفاده خواهد شد و  بهینه‌ترین سرعت ارسال داده را بدون ایجاد ازدحام در ترافیک TCP فراهم می‌کند .**
-  در هر دو حالت نصب از فایل اصلی بکاپ گرفته میشود.
-  بهبود هایی در گزینه بازیابی تنظیمات .
- بهبود هایی در اعمال ecn 
- بهبود هایی در اعمال الگوریتم 
- الگوریتم Qos - qdisk در اینترفیس مختلف مانند زمانی که اینترفیس آیپی 6 جدا باشد نیز اعمال خواهد شد .
- بهبود هایی در نصب بسته ها 
- بهبود هایی در اجرای تست سرعت و...
  </details>
</div>

------------------------------------------------------------------------------------------

<div align="right">
  <details>
    <summary><strong>توضیحات</strong></summary>


**پروژه ای برای پیکربندی BBR و اجرای SpeedTest**

**BBR :**
- پیکربندی کامل BBR
- پشتیبان گیری و بازیابی تنظیمات اعمال شده BBR
- در حال حاضر 2 نوع BBR بدون انگولک اضافه شده است.
- روش های دیگر به زودی اضافه می شود (با قابلیت تغییر شکل ترافیک)

**speedtest :**


- 2 روش برای تست سرعت به صورت Bench.sh
- تست سرعت بین 2 سرور با Iperf3
- تست سرعت با *Speedtest By ookla* با امکان تعیین سرور

![image](https://github.com/kalilovers/LightKnightBBR/assets/30160766/d14d4917-82d3-4006-9cad-082b6aeaa40b)
  </details>
</div>

-----------------------

<div align="right">
  <details>
    <summary><strong>نکات</strong></summary>
    
- **پیشنهاد من : استفاده از **fq_codel** و حداقل نسخه اوبونتو 20.04 به بالا و دبیان 10 به بالا (چون از bbrv2 استفاده میشه) بخصوص برای vpn ، بازی ، تماس و... است**
- سیستم عامل های پشتیبانی شده » اوبونتو نسخه 18 به بالا - دبیان 10 به بالا
- حتما در کاربر root و یا با دستور **sudo** اجرا شود
- برای اعمال تغییرات **reboot** لازم است
  </details>
</div>


------------------------------------------------------------------------------------------
اگر به ویژگی های دیگری نیاز دارید یا مشکلی وجود دارد، ممنون میشوم که در قسمت issue اطلاع دهید
------------

**اجرا** :

با نصب بسته های Python3 :
```
sudo apt update && sudo apt install -y python3 python3-pip && python3 <(curl -Ls https://raw.githubusercontent.com/kalilovers/LightKnightBBR/main/bbr.py --ipv4)
```
اجرای ساده :
```
python3 <(curl -Ls https://raw.githubusercontent.com/kalilovers/LightKnightBBR/main/bbr.py --ipv4)
```
